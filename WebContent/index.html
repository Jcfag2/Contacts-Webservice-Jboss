<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>jboss-contacts-rest</title>
	<script src="js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript">
		function showAll(){
			$("#conteneur").html("");
			let url = "rest/contacts/all";
			$.getJSON(url,function(contacts){
				let ul = $("<ul>");
					$.each(contacts,function(key,val){
						let li = $("<li class='contact'>");
						li.text(val.civilite+ " "+val.prenom+" "+val.nom);
						li.data("id",val.id);
						ul.append(li);
					});
				$("#conteneur").append(ul);
				$(".contact").click(function(evt){
										alert($(this).data("id"));
									});
			});
		}
		$(document).ready(function () {
			$("#btn").click(function () {
				showAll();
			});
		});
	</script>
</head>
<body>
	<button id="btn" type="button">tous les contacts</button>
	<div id="conteneur">Bonjour</div>
</body>

</html>